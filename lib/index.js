!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VueTable",[],e):"object"==typeof exports?exports.VueTable=e():t.VueTable=e()}(this,function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var l=e[n]={i:n,l:!1,exports:{}};return t[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)a.d(n,l,function(e){return t[e]}.bind(null,l));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=5)}([function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n={state:{titles:[],data:[],keys:[],types:[],selectMsg:null,rowLength:null,selectFn:null,switchEvents:null},getState:function(t){return this.state[t]},mutations:{setData:function(t){t.map(function(t,e){return t.key=e,t}),this.state.data=t,this.state.rowLength=t.length},setTitles:function(t){this.state.titles=t},setKeys:function(t){this.state.keys=t},setTypes:function(t){this.state.types=t},setSelectMsg:function(t){this.state.selectMsg=t||Array.apply(null,{length:this.getState("rowLength")})},initSelectMsg:function(){this.state.selectMsg=Array.apply(null,{length:this.getState("rowLength")})},setSelectFn:function(t){t&&"function"==typeof t&&(this.state.selectFn=t)},setSwitchEvents:function(t){this.state.switchEvents=t}},commit:function(t){for(var e,a=arguments.length,n=new Array(a>1?a-1:0),l=1;l<a;l++)n[l-1]=arguments[l];(e=this.mutations[t]).call.apply(e,[this].concat(n))}},l={name:"table-checkbox",computed:{inner_value:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}},props:{value:{type:Boolean,default:!1},stateZero:{type:Boolean,default:!1}},render:function(t){var e=this;return t("label",{staticClass:"table-checkbox",class:{"zero-state":e.stateZero}},[t("input",{staticClass:"checkbox-input",attrs:{type:"checkbox"},domProps:{checked:e.inner_value},on:{change:function(){e.inner_value=event.target.checked}}}),t("label",{staticClass:"checkbox-label"})])}},c={name:"table-head",props:{selectState:{type:Number,default:-1}},components:{tableCheckbox:l},render:function(t){var e=this,a=[],l=n.getState("types");return n.getState("titles").forEach(function(c,s){switch(l[s]){case"checkbox":a.push(t("th",{staticClass:"table-head-cell"},[t("table-checkbox",{attrs:{value:1===e.selectState,stateZero:0===e.selectState},on:{change:function(t){var a=JSON.parse(JSON.stringify(n.getState("data")));0===e.selectState&&t?(e.$emit("selectAll",!1),setTimeout(function(){e.$emit("selectAll",t)})):e.$emit("selectAll",t);var l=n.getState("selectFn");t?(n.commit("setSelectMsg",a),l(a)):(n.commit("setSelectMsg",null),l([]))}}})]));break;default:a.push(t("th",{staticClass:"table-head-cell"},c))}}),t("thead",{staticClass:"table-head"},[t("tr",{},a)])}},s={name:"atom-switch",computed:{inner_value:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}},props:{value:{type:Boolean,default:!1},color:{type:String,default:"#108ee9"}},render:function(t){var e=this;return t("label",{staticClass:"table-switch"},[t("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:e.inner_value},on:{change:function(){e.inner_value=event.target.checked}}}),t("label",{staticClass:"switch-label",style:{background:e.color}})])}},o={name:"table-row",data:function(){return{checkbox_val:!1}},props:{isHead:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},allSelect:{type:Boolean,default:!1},rowIdx:Number},components:{tableSwitch:s,tableCheckbox:l},render:function(t){var e=this,a=[],l=n.getState("types"),c=n.getState("keys"),s=n.getState("data");return c.forEach(function(c,o){switch(l[o]){case"text":a.push(t("td",{staticClass:"table-cell"},e.data[c]));break;case"checkbox":a.push(t("td",{staticClass:"table-cell"},[t("table-checkbox",{attrs:{value:e.allSelect},on:{change:function(t){e.checkbox_val=t,e.$emit("checkbox_change",t)}}})]));break;case"switch":var r=s[e.rowIdx].switch;a.push(t("td",{staticClass:"table-cell"},[t("table-switch",{attrs:{value:!!r&&r.value,color:r?r.color:"#108ee9"},on:{change:function(t){n.getState("switchEvents")[o](t,e.data)}}})]))}}),t("tr",{staticClass:"table-row"},a)}},r=n.getState("selectMsg"),i={name:"table-body",data:function(){return{selectMsg:r}},props:{allSelect:{type:Boolean,default:!1}},components:{tableRow:o},render:function(t){var e=this,a=[],l=-1;return n.getState("data").forEach(function(c,s){a.push(t("table-row",{attrs:{data:c,rowIdx:s,msgs:e.selectMsg,allSelect:e.allSelect},on:{checkbox_change:function(t){var a=n.getState("selectMsg");t?a.splice(s,1,c):a.splice(s,1,void 0),n.commit("setSelectMsg",a);var o=a.filter(function(t){if(void 0!==t)return t});l=o.length>=n.getState("rowLength")?1:o.length>0?0:-1,e.$emit("setSelectAllState",l),n.getState("selectFn")(o)}}}))}),t("tbody",{},a)}},u={name:"vue-table",data:function(){return{selectState:-1,allSelect:!1}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},select_event:Function},created:function(){var t=[],e=[],a=[];this.select_event&&this.columns.unshift({type:"checkbox"});var l=Array.apply(null,{length:this.columns.length});this.columns.forEach(function(n,c){t.push(n.title),e.push(n.key),a.push(n.type?n.type:"text"),"switch"===n.type&&(l[c]=n.event)}),n.commit("setTitles",t),n.commit("setData",this.data),n.commit("setKeys",e),n.commit("setTypes",a),n.commit("initSelectMsg"),n.commit("setSelectFn",this.select_event),n.commit("setSwitchEvents",l)},components:{tableHead:c,tableBody:i},render:function(t){var e=this;return t("table",{staticClass:"table-wrapper"},[t("table-head",{attrs:{selectState:e.selectState},on:{selectAll:function(t){e.allSelect=t,t?e.selectState=1:t||(e.selectState=-1)}}}),t("table-body",{attrs:{allSelect:e.allSelect},on:{setSelectAllState:function(t){e.selectState=t,1===t?e.allSelect=!0:-1===t&&(e.allSelect=!1)}}})])}};a(0),a(1),a(2),a(3),a(4),e.default=u}])});