!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VueTable",[],e):"object"==typeof exports?exports.VueTable=e():t.VueTable=e()}(this,function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var l=e[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(a,l,function(e){return t[e]}.bind(null,l));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a={state:{titles:[],data:[],keys:[],types:[],selectMsg:null,rowLength:null,selectFn:null,switchEvents:null},getState:function(t){return this.state[t]},mutations:{setData:function(t){t.map(function(t,e){return t.key=e,t}),this.state.data=t,this.state.rowLength=t.length},setTitles:function(t){this.state.titles=t},setKeys:function(t){this.state.keys=t},setTypes:function(t){this.state.types=t},setSelectMsg:function(t){this.state.selectMsg=t||Array.apply(null,{length:this.getState("rowLength")})},initSelectMsg:function(){this.state.selectMsg=Array.apply(null,{length:this.getState("rowLength")})},setSelectFn:function(t){t&&"function"==typeof t&&(this.state.selectFn=t)},setSwitchEvents:function(t){this.state.switchEvents=t}},commit:function(t){for(var e,n=arguments.length,a=new Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];(e=this.mutations[t]).call.apply(e,[this].concat(a))}},l={name:"table-checkbox",computed:{inner_value:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}},props:{value:{type:Boolean,default:!1},stateZero:{type:Boolean,default:!1}},render:function(t){var e=this;return t("label",{staticClass:"table-checkbox"},[t("input",{staticClass:"checkbox-input",attrs:{type:"checkbox"},domProps:{checked:this.inner_value},on:{change:function(){e.inner_value=event.target.checked}}}),t("label",{staticClass:"checkbox-label",class:{"zero-label":self.stateZero}})])}},s={name:"table-head",props:{selectState:{type:Number,default:-1}},components:{tableCheckbox:l},render:function(t){var e=this,n=[],l=a.getState("types");return a.getState("titles").forEach(function(s,c){switch(l[c]){case"checkbox":n.push(t("th",{staticClass:"table-head-cell"},[t("table-checkbox",{attrs:{value:1===e.selectState,stateZero:0===e.selectState},on:{change:function(t){var n=JSON.parse(JSON.stringify(a.getState("data")));0===e.selectState&&t?(e.$emit("selectAll",!1),setTimeout(function(){e.$emit("selectAll",t)})):e.$emit("selectAll",t);var l=a.getState("selectFn");t?(a.commit("setSelectMsg",n),l(n)):(a.commit("setSelectMsg",null),l([]))}}})]));break;default:n.push(t("th",{staticClass:"table-head-cell"},s))}}),t("thead",{staticClass:"table-head"},[t("tr",{},n)])}},c={name:"atom-switch",computed:{inner_value:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}},props:{value:{type:Boolean,default:!1}},render:function(t){var e=this;return t("label",{staticClass:"table-switch"},[t("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{checked:e.inner_value},on:{change:function(){e.inner_value=event.target.checked}}}),t("label",{staticClass:"switch-label"})])}},o={name:"table-row",data:function(){return{checkbox_val:!1,switch_val:!1}},props:{isHead:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},allSelect:{type:Boolean,default:!1},rowIdx:Number},components:{tableSwitch:c,tableCheckbox:l},render:function(t){var e=this,n=[],l=a.getState("types");return a.getState("keys").forEach(function(s,c){switch(l[c]){case"text":n.push(t("td",{staticClass:"table-cell"},e.data[s]));break;case"checkbox":n.push(t("td",{staticClass:"table-cell"},[t("table-checkbox",{attrs:{value:e.allSelect},on:{change:function(t){e.checkbox_val=t,e.$emit("checkbox_change",t)}}})]));break;case"switch":n.push(t("td",{staticClass:"table-cell"},[t("table-switch",{domProps:{checked:e.switch_val},on:{change:function(t){a.getState("switchEvents")[c](t,e.data)}}})]))}}),t("tr",{staticClass:"table-row"},n)}},i=a.getState("selectMsg"),r={name:"table-body",data:function(){return{selectMsg:i}},props:{allSelect:{type:Boolean,default:!1}},components:{tableRow:o},render:function(t){var e=this,n=[],l=-1;return a.getState("data").forEach(function(s,c){n.push(t("table-row",{attrs:{data:s,rowIdx:c,msgs:e.selectMsg,allSelect:e.allSelect},on:{checkbox_change:function(t){var n=a.getState("selectMsg");t?n.splice(c,1,s):n.splice(c,1,void 0),a.commit("setSelectMsg",n);var o=n.filter(function(t){if(void 0!==t)return t});l=o.length>=a.getState("rowLength")?1:o.length>0?0:-1,e.$emit("setSelectAllState",l),a.getState("selectFn")(o)}}}))}),t("tbody",{},n)}},u={name:"table",data:function(){return{selectState:!1,allSelect:!1}},props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},select_event:Function},created:function(){var t=[],e=[],n=[];this.select_event&&this.columns.unshift({type:"checkbox"});var l=Array.apply(null,{length:this.columns.length});this.columns.forEach(function(a,s){t.push(a.title),e.push(a.key),n.push(a.type?a.type:"text"),"switch"===a.type&&(l[s]=a.event)}),a.commit("setTitles",t),a.commit("setData",this.data),a.commit("setKeys",e),a.commit("setTypes",n),a.commit("initSelectMsg"),a.commit("setSelectFn",this.select_event),a.commit("setSwitchEvents",l)},components:{tableHead:s,tableBody:r},render:function(t){var e=this;return t("table",{staticClass:"table-wrapper"},[t("table-head",{attrs:{selectState:e.selectState},on:{selectAll:function(t){e.allSelect=t,t?e.selectState=1:t||(e.selectState=-1)}}}),t("table-body",{attrs:{allSelect:e.allSelect},on:{setSelectAllState:function(t){e.selectState=t,1===t?e.allSelect=!0:-1===t&&(e.allSelect=!1)}}})])}};n(0),n(1),n(2),n(3),n(4),e.default=u}])});